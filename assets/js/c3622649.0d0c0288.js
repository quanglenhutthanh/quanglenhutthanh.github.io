"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[5874],{5373:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>t,metadata:()=>l,toc:()=>a});var r=o(5893),i=o(1151);const t={sidebar_position:20,sidebar_label:"Custom Form Recognizer Models"},s="Custom Form Recognizer Model",l={id:"AI/AI Engineer/Computer Vision/custom-form-recognizer-model",title:"Custom Form Recognizer Model",description:"Sometimes, the prebuilt models are not sufficient to extract information from you unique documents with particular layout of information. In this case, you should develop your own custom Form Recognizer model to meet your unique business requirements.",source:"@site/docs/AI/AI Engineer/Computer Vision/custom-form-recognizer-model.md",sourceDirName:"AI/AI Engineer/Computer Vision",slug:"/AI/AI Engineer/Computer Vision/custom-form-recognizer-model",permalink:"/AI/AI Engineer/Computer Vision/custom-form-recognizer-model",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20,sidebar_label:"Custom Form Recognizer Models"},sidebar:"tutorialSidebar",previous:{title:"Prebuilt Form Recognizer Models",permalink:"/AI/AI Engineer/Computer Vision/prebuilt-form-recognizer-models"},next:{title:"Azure Face Service",permalink:"/AI/AI Engineer/Computer Vision/face-api"}},c={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Installation",id:"installation",level:2},{value:"Python SDK Demo",id:"python-sdk-demo",level:2},{value:"Training Model",id:"training-model",level:3},{value:"Using Model",id:"using-model",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"custom-form-recognizer-model",children:"Custom Form Recognizer Model"}),"\n",(0,r.jsx)(n.p,{children:"Sometimes, the prebuilt models are not sufficient to extract information from you unique documents with particular layout of information. In this case, you should develop your own custom Form Recognizer model to meet your unique business requirements."}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["The custom Form Recognizer model is a ",(0,r.jsx)(n.strong,{children:"machine learning model"})," that is trained from a collection of training documents. During the training phase, the model learns what fields of data you are interested in extracting from the training documents."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Form Recognizer is now ",(0,r.jsx)(n.strong,{children:"Azure AI Document Intelligence"}),"! As of July 2023. But There are no breaking changes to application programming interfaces (APIs) or SDKs."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsxs)(n.p,{children:["Install the Azure Form Recognizer client for Python with ",(0,r.jsx)(n.code,{children:"pip"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"!pip install azure-ai-formrecognizer\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"!pip install azure-core\n"})}),"\n",(0,r.jsx)(n.h2,{id:"python-sdk-demo",children:"Python SDK Demo"}),"\n",(0,r.jsx)(n.p,{children:"Import necessary classes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from azure.ai.formrecognizer import FormRecognizerClient\nfrom azure.ai.formrecognizer import FormTrainingClient\nfrom azure.core.credentials import AzureKeyCredential\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"FormRecognizerClient"})," and ",(0,r.jsx)(n.code,{children:"FormTrainingClient"})," for working with Azure Form Recognizer."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"AzureKeyCredential"})," for providing the authentication credentials."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'endpoint = "YOUR_FORM_RECOGNIZER_ENDPOINT"\nkey = "YOUR_FORM_RECOGNIZER_KEY"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"endpoint"})," and ",(0,r.jsx)(n.code,{children:"key"})," are  Azure AI Document Intelligence Url and Key, which you can obtain from Azure portal."]}),"\n",(0,r.jsx)(n.h3,{id:"training-model",children:"Training Model"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'form_training_client = FormTrainingClient(endpoint=endpoint,credential=AzureKeyCredential(key=key))\nsaved_model_list = form_training_client.list_custom_models()\ntraining_process = form_training_client.begin_training(training_files_url=training_data_url,use_training_labels=False)\ncustom_model = training_process.result()\ncustom_model_info = form_training_client.get_custom_model(model_id=custom_model.model_id)\nprint(custom_model.model_id)\nprint(custom_model.status)\nfor doc in custom_model.training_documents:\n    print("Document name: {}".format(doc.name))\n    print("Document status: {}".format(doc.status))\n    print("Document page count: {}".format(doc.page_count))\n    print("Document errors: {}".format(doc.errors))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"using-model",children:"Using Model"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"test_url = \"TESTING_DATA_URL\"\nform_recognizer_client = FormRecognizerClient(endpoint=endpoint,credential=AzureKeyCredential(key=key))\ncustom_test_action = form_recognizer_client.begin_recognize_custom_forms_from_url(model_id=custom_model_info.model_id, form_url=test_url)\ncustom_test_action_result = custom_test_action.result()\n\nfor recognized_content in custom_test_action_result:\n    print(\"Form type: {}\".format(recognized_content.form_type))\n    for name, field in recognized_content.fields.items():\n        print(\"Field '{}' has label '{}' with value '{}' and a confidence score of {}\".format(\n            name,\n            field.label_data.text if field.label_data else name,\n            field.value,\n            field.confidence\n        ))\n\n"})})]})}function m(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>l,a:()=>s});var r=o(7294);const i={},t=r.createContext(i);function s(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);